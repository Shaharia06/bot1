from telegram import Update
from telegram.ext import ApplicationBuilder, CommandHandler, ContextTypes
import random

BOT_TOKEN = '7632441744:AAGwpaUtsjO-S4Bj9OuD8MQKTNBDCeWiah0'

# рж╢рзБржзрзБ ржЕрзНржпрж╛ржбржорж┐ржиржжрзЗрж░ ржЗржЙржЬрж╛рж░ ржЖржЗржбрж┐ ржмрж╕рж╛ржУ ржПржЦрж╛ржирзЗ
ADMINS = [
    7949308405,  # рждрзЛржорж╛рж░ ржЖржЗржбрж┐ ржмрж╕рж╛ржУ
    987654321,  # ржЖрж░рзЗржХржЬржи ржЕрзНржпрж╛ржбржорж┐ржи
]

# рж░рзЛрж╕рзНржЯ рж▓рж┐рж╕рзНржЯ (ржмржЧрзБржбрж╝рж╛ ржХрзНрж░рж╛рж╢ ржЕрзНржпрж╛ржирзНржб ржХржиржлрзЗрж╢ржи рж╕рзНржЯрж╛ржЗрж▓)
roasts = [
    "ЁЯШВ @{user} ржирж╛ржХрж┐ ржмржЧрзБржбрж╝рж╛рж░ ржХрзНрж░рж╛рж╢! ржорзЗрзЯрзЗрж░рж╛ ржжрзЗржЦрж▓рзЗ ржмрж▓рзЗ: 'ржПржЗ ржпрзЗ ржнрж╛ржЗрзЯрж╛, рж░рж╛рж╕рзНрждрж╛ ржЫрж╛ржбрж╝рзЗржи!'",
    "ЁЯдг @{user} ржПрж░ ржХрзНрж░рж╛рж╢ ржмрж▓рзЗ: 'рждрзЛржорж╛ржХрзЗ ржжрзЗржЦрзЗ ржЖржорж┐ ржЖржорж╛рж░ ex ржПрж░ ржХржерж╛ ржоржирзЗ ржХрж░рж┐ред'",
    "ЁЯШЖ @{user} ржПржд ржПржХрзНрж╕ ржмрж╛ржирж┐рзЯрзЗржЫрзЗ, ржПржЦржи ржкрзНрж░рзЗржо ржХрж░рждрзЗ ржЧрзЗрж▓рзЗ ржЖржЧрзЗ ржкрзБрж▓рж┐рж╢ ржХрзНрж▓рж┐рзЯрж╛рж░рзЗржирзНрж╕ рж▓рж╛ржЧрзЗ!",
    "ЁЯе▓ @{user} ржХржиржлрзЗрж╢ржи рж▓рж┐ржЦрждрзЗ ржЧрж┐рзЯрзЗржЫрж┐рж▓, ржЧрзНрж░рзБржк рж╣ржарж╛рзО рж╕рж╛ржЗрж▓рзЗржирзНржЯ рж╣рзЯрзЗ ржЧрзЗрж▓ред",
    "ЁЯСА @{user} ржПрж░ ржХрзНрж░рж╛рж╢ ржПржЦржи ржЕржирзНржпрзЗрж░ ржмржЙ!",
    "ЁЯТФ @{user} ржирж╛ржХрж┐ ржкрзНрж░рзЗржо ржХрж░рзЗ? ржУрж░ рждрзЛ crush-ржЗ ржУржХрзЗ block ржХрж░рзЗ рж░рж╛ржЦрзЗ!",
    "ЁЯлг @{user} ржПрж░ ржХржиржлрзЗрж╢ржи ржкржбрж╝рзЗ ржорзЗрзЯрзЗрж░рж╛ ржмрж▓рждрзЗржЫрзЗ: 'ржПржЗ ржнрж╛ржЗржЯрж╛ ржирж╛рж╣рж┐ ржерж╛ржоржмрзЗ рждрзЛ?'",
    "ЁЯШ╣ @{user} ржПрж░ ржХржиржлрзЗрж╢ржи ржжрзЗржЦрзЗ ржмржЧрзБржбрж╝рж╛рж░ ржорзЗрзЯрзЗрж░рж╛ ржмржЧрзБржбрж╝рж╛ ржЫрж╛ржбрж╝ржЫрзЗ!",
    "ЁЯШО @{user} ржкрзНрж░рзЗржорзЗ ржПржоржи pro ржпрзЗ, ржЖржЬржХрзЗ ржХржиржлрзЗрж╢ржи ржжрзЗрзЯ, ржХрж╛рж▓ржХрзЗ unfriend!",
    "ЁЯЩГ @{user} ржПрж░ ржХрзНрж░рж╛рж╢ reply ржирж╛ ржжрж┐рж▓рзЗ ржмржЯржХрзЗ ржХржиржлрзЗрж╢ржи ржжрзЗрзЯ!",
    "ЁЯдг @{user} ржПржХрзНрж╕ ржПрж░ рж╕рж╛ржерзЗ ржжрзЗржЦрж╛ рж╣рж▓рзЗ ржмрж▓рзЗ: 'ржорж╛ржл ржХрж░рзЗ ржжрзЗ, ржЬрзАржмржирзЗ ржнрзБрж▓ рж╣ржЗржЫрзЗред'",
    "ЁЯШВ @{user} ржирж╛ржХрж┐ ржПржХ ржорзЗрзЯрзЗржХрзЗ рзй ржмрж╛рж░ ржХржиржлрзЗрж╢ржи ржжрж┐рзЯрзЗржЫрзЗ, ржорзЗрзЯрзЗ reply ржжрж┐рж▓рзЛ: OK BRO!",
    "ЁЯШЖ @{user} ржПрж░ ржмржЧрзБржбрж╝рж╛ рж╕рзНржЯрж╛ржЗрж▓ ржкрзНрж░рзЗржо: online рж╢рзБржзрзБ, offline ржирж╛ржЗ!",
    "ЁЯе┤ @{user} ржХрзЗ ржжрзЗржЦрж▓рзЗ ржмржЧрзБржбрж╝рж╛рж░ ржорзЗрзЯрзЗрж░рж╛ ржмрж▓рзЗ: 'ржПржЯрж╛ ржЖржмрж╛рж░ ржХрж╛рж░ crush?'",
    "ЁЯФе @{user} ржПрж░ ржХржиржлрзЗрж╢ржи ржПржд ржЬрзЛрж╕ ржпрзЗ ржЧрзНрж░рзБржкрзЗрж░ ржПржбржорж┐ржиржУ рж╣рзЗрж╕рзЗ ржХрзЗржБржжрзЗржЫрзЗред",
    "ЁЯТА @{user} ржкрзНрж░рзЗржорзЗ ржкрзЬрзЗ ржХржиржлрзЗрж╢ржи ржжрж┐рж▓рзЛ, ржорзЗрзЯрзЗ ржмрж▓рж▓рзЛ 'ржЖржкржирж┐ рждрзЛ ржЖржорж╛рж░ ржнрж╛ржЗрзЯрзЗрж░ ржорждрзЛ!'",
    "ЁЯШ╡ @{user} ржирж╛ржХрж┐ ржПржоржи ржкрзНрж░рзЗржорж┐ржХ, ржПржХржжрж┐ржирзЗ рждрж┐ржиржЯрж╛ breakup!",
    "ЁЯШЖ @{user} ржХрзЗ tag ржжрж┐рж▓рзЗржЗ ex, crush ржЖрж░ gf ржПржХрж╕рж╛ржерзЗ рж▓рж╛ржлрж╛рзЯ!",
    "ЁЯС╗ @{user} crush ржХрзЗ impress ржХрж░рждрзЗ ржЧрж┐рзЯрзЗ ржирж┐ржЬрзЗрж░ ржирж╛ржо ржнрзБрж▓рзЗ ржЧрзЗржЫрзЗред",
    "ЁЯТШ @{user} ржПрж░ ржкрзНрж░рзЗржо ржорж╛ржирзЗ: тАШрждрзБржорж┐ reply ржжрж┐рж▓рзЗ ржЖржорж┐ poem рж▓рж┐ржЦржмрзЛ, ржирж╛ ржжрж┐рж▓рзЗ song!тАЩ"
]

async def news(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.message.from_user.id

    # рж╢рзБржзрзБржорж╛рждрзНрж░ ADMINS ржкрж╛рж░ржмрзЗ
    if user_id not in ADMINS:
        await update.message.reply_text("тЫФ ржПржЗ ржХржорж╛ржирзНржбржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржЕрзНржпрж╛ржбржорж┐ржиржжрзЗрж░ ржЬржирзНржпред")
        return

    if len(context.args) != 1:
        await update.message.reply_text("ржмрзНржпржмрж╣рж╛рж░: /news @username")
        return

    target_username = context.args[0]

    if not target_username.startswith('@'):
        target_username = '@' + target_username

    roast_line = random.choice(roasts).replace("{user}", target_username.lstrip('@'))
    await update.message.reply_text(roast_line)

if __name__ == '__main__':
    app = ApplicationBuilder().token(BOT_TOKEN).build()
    app.add_handler(CommandHandler("news", news))

    print("ЁЯФе ржмржЧрзБржбрж╝рж╛ ржХрзНрж░рж╛рж╢ ржмржЯ ржЪрж╛рж▓рзБ!")
    app.run_polling()
